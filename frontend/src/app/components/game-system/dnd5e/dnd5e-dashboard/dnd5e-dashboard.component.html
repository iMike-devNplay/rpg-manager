<div class="dnd5e-dashboard" *ngIf="character">
  <div class="auto-calculations">
    <h3>ðŸ§® Calculs automatiques D&D 5e</h3>
    <div class="calculation-grid">
      
      <!-- Bonus de maÃ®trise -->
      <div class="calc-item" *ngIf="proficiencyBonus">
        <label>Bonus de maÃ®trise</label>
        <span class="value">+{{ proficiencyBonus }}</span>
      </div>

      <!-- Modificateurs d'attributs -->
      <div class="calc-section">
        <h4>Modificateurs</h4>
        <div class="modifiers-grid">
          <div *ngFor="let attr of attributes" class="modifier-item">
            <span class="attr-name">{{ attr.name }}</span>
            <span class="attr-value">{{ attr.value }}</span>
            <span class="modifier">{{ getModifierDisplay(attr.value) }}</span>
          </div>
        </div>
      </div>

      <!-- Jets de sauvegarde -->
      <div class="calc-section">
        <h4>Jets de sauvegarde</h4>
        <div class="saves-grid">
          <div *ngFor="let attr of attributes" class="save-item">
            <span class="save-name">{{ attr.name }}</span>
            <span class="save-value">{{ getSavingThrowDisplay(attr) }}</span>
            <label class="proficiency-label">
              <input 
                type="checkbox" 
                [checked]="attr.hasProficiency"
                (change)="toggleSaveProficiency(attr, $event)"
              >
              MaÃ®trise
            </label>
          </div>
        </div>
      </div>

    </div>

    <!-- Bouton de recalcul -->
    <div class="actions">
      <button 
        class="btn btn-primary" 
        (click)="recalculateAll()"
        title="Recalcule toutes les valeurs dÃ©rivÃ©es"
      >
        ðŸ”„ Recalculer tout
      </button>
    </div>
  </div>
</div>